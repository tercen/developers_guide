<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 15 Building a template | Tercen developer’s guide</title>
<meta name="author" content="Tercen">
<meta name="description" content="15.1 What is a template? A template is a reusable Tercen workflow. It is typically developed when you want to quickly reuse a data analysis workflow with a new dataset.  15.2 General development...">
<meta name="generator" content="bookdown 0.41 with bs4_book()">
<meta property="og:title" content="Chapter 15 Building a template | Tercen developer’s guide">
<meta property="og:type" content="book">
<meta property="og:description" content="15.1 What is a template? A template is a reusable Tercen workflow. It is typically developed when you want to quickly reuse a data analysis workflow with a new dataset.  15.2 General development...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 15 Building a template | Tercen developer’s guide">
<meta name="twitter:description" content="15.1 What is a template? A template is a reusable Tercen workflow. It is typically developed when you want to quickly reuse a data analysis workflow with a new dataset.  15.2 General development...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.8.0/transition.js"></script><script src="libs/bs3compat-0.8.0/tabs.js"></script><script src="libs/bs3compat-0.8.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Tercen developer’s guide</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Introduction</a></li>
<li><a class="" href="guidelines.html"><span class="header-section-number">1</span> Guidelines</a></li>
<li class="book-part">Getting started</li>
<li><a class="" href="core-concepts.html"><span class="header-section-number">2</span> Core concepts</a></li>
<li><a class="" href="setting-up-tercen-studio.html"><span class="header-section-number">3</span> Setting up Tercen Studio</a></li>
<li class="book-part">R Operator development</li>
<li><a class="" href="general-workflow.html"><span class="header-section-number">4</span> General workflow</a></li>
<li><a class="" href="walkthrough-example-r-operator.html"><span class="header-section-number">5</span> Walkthrough example: R operator</a></li>
<li><a class="" href="deploying-an-r-operator.html"><span class="header-section-number">6</span> Deploying an R operator</a></li>
<li><a class="" href="improving-an-operator.html"><span class="header-section-number">7</span> Improving an operator</a></li>
<li class="book-part">Python Operator development</li>
<li><a class="" href="getting-familiar-with-tercen-studio.html"><span class="header-section-number">8</span> Getting familiar with Tercen Studio</a></li>
<li><a class="" href="developing-a-python-operator.html"><span class="header-section-number">9</span> Developing a Python Operator</a></li>
<li class="book-part">Advanced concepts</li>
<li><a class="" href="continuous-integration-workflow.html"><span class="header-section-number">10</span> Continuous Integration Workflow</a></li>
<li><a class="" href="release-workflow.html"><span class="header-section-number">11</span> Release Workflow</a></li>
<li><a class="" href="installing-an-operator.html"><span class="header-section-number">12</span> Installing an Operator</a></li>
<li><a class="" href="common-patterns.html"><span class="header-section-number">13</span> Common patterns</a></li>
<li><a class="" href="advanced-patterns.html"><span class="header-section-number">14</span> Advanced patterns</a></li>
<li class="book-part">Templates</li>
<li><a class="active" href="building-a-template.html"><span class="header-section-number">15</span> Building a template</a></li>
<li><a class="" href="continuous-integration-workflow-1.html"><span class="header-section-number">16</span> Continuous Integration Workflow</a></li>
<li class="book-part">Library</li>
<li><a class="" href="tercen-library.html"><span class="header-section-number">17</span> Tercen Library</a></li>
<li><a class="" href="custom-library.html"><span class="header-section-number">18</span> Custom library</a></li>
<li class="book-part">Best practices</li>
<li><a class="" href="naming.html"><span class="header-section-number">19</span> Development guidelines</a></li>
<li><a class="" href="tim.html"><span class="header-section-number">20</span> Using tim</a></li>
<li class="book-part">Troubleshooting</li>
<li><a class="" href="common-operator-issues.html"><span class="header-section-number">21</span> Common operator issues</a></li>
<li><a class="" href="ci-and-github-actions.html"><span class="header-section-number">22</span> CI and Github Actions</a></li>
<li class="book-part">Going forward</li>
<li><a class="" href="next-steps.html"><span class="header-section-number">23</span> Next steps</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="glossary.html">Glossary</a></li>
<li><a class="" href="organisation-setup.html">Organisation setup</a></li>
<li><a class="" href="tercen-studio.html">Tercen Studio</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="building-a-template" class="section level1" number="15">
<h1>
<span class="header-section-number">15</span> Building a template<a class="anchor" aria-label="anchor" href="#building-a-template"><i class="fas fa-link"></i></a>
</h1>
<div id="what-is-a-template" class="section level2" number="15.1">
<h2>
<span class="header-section-number">15.1</span> What is a template?<a class="anchor" aria-label="anchor" href="#what-is-a-template"><i class="fas fa-link"></i></a>
</h2>
<p>A <strong>template</strong> is a reusable Tercen workflow. It is typically developed when you want to quickly reuse a data analysis workflow with a new dataset.</p>
</div>
<div id="general-development-workflow" class="section level2" number="15.2">
<h2>
<span class="header-section-number">15.2</span> General development workflow<a class="anchor" aria-label="anchor" href="#general-development-workflow"><i class="fas fa-link"></i></a>
</h2>
<p>The recommended <strong>test-driven</strong> development workflow is as follows:</p>
<ul>
<li><p>Initialise a GitHub repository for your workflow based on a template provided by Tercen</p></li>
<li><p>Clone this GitHub repository to your Tercen development instance</p></li>
<li><p>Load a minimal dataset that will serve the purpose of unit testing. Be mindful that this dataset and everything that is computed by the workflow will be stored in your repository, hence they should remain small.</p></li>
<li><p>Develop your workflow on your example dataset.</p></li>
<li><p>Prepare the workflow template.</p></li>
<li><p>Push your changes and deploy.</p></li>
</ul>
</div>
<div id="detailed-workflow" class="section level2" number="15.3">
<h2>
<span class="header-section-number">15.3</span> Detailed workflow<a class="anchor" aria-label="anchor" href="#detailed-workflow"><i class="fas fa-link"></i></a>
</h2>
<p><strong>1. Create the Template Repo</strong></p>
<p>Create a new project based on the <a href="https://github.com/tercen/template_workflow">template repository</a>.</p>
<p><strong>2. Import the repository into Tercen</strong></p>
<p>Create a new project from Github.</p>
<center>
<img src="images/001_NewProject.png" width="500">
</center>
<center>
<img src="images/002_NewProject_FromGit.png" width="500">
</center>
<p><strong>3. Create the Template Workflow</strong></p>
<p>Create a standard Tercen workflow. Run the steps as needed.</p>
<p>A finalized workflow might look like the one below.</p>
<center>
<img src="images/004_RunWorkflow.png" width="300">
</center>
<p><strong>4. Clone and Rename</strong></p>
<p>Clone the workflow to create the <strong>golden standard</strong>. Rename it with an unique **_gs** suffix (see naming convention).</p>
<center>
<img src="images/005_Clone.png" width="600">
</center>
<center>
<img src="images/006_CloneName.png" width="600">
</center>
<p><strong>Naming Conventions</strong></p>
<ul>
<li><p>A Template workflow is compared to its Golden Standard workflows based on a naming convention.</p></li>
<li><p>A workflow is considered a Golden Standard if its name ends with **_gs**<em>, where </em> is a set of letter and numbers. For example, Template_gs1, Template_gsA01 and Template_gsAA are all valid Golden Standard names, whereas Template_gs_01 is not.</p></li>
<li><p>A Template and a Golden Standard are considered match if they have the same <em>base</em> name, that is, everything before the _gs suffix. For example, Workflow, Workflow_gs01 and Workflow_gs02 refer to a template (Workflow) and its two Golden Standards.</p></li>
</ul>
<p>Once cloned, both Template and Golden Standard will be in the same folder. We want to move the Golden Standard workflow to a folder named <strong>tests</strong>. To do so, rename the Golden Standard, adding <em>tests/</em> before the name and pressing the Ok button.</p>
<center>
<img src="images/007_CloneReName.png" width="600">
</center>
<center>
<img src="images/008_CloneReNameFolder.png" width="600">
</center>
<p><strong>5. Reset the Template Workflow</strong></p>
<p>Open the Template Workflow (the one without the _gs** suffix), reset and save it.</p>
<p><strong>6. Commit the Changes to Github</strong></p>
<p>Finally, select the Git button.</p>
<center>
<img src="images/012_Git.png" width="600">
</center>
<p>Then, add any desired commit message, your personal Github token and press Ok.</p>
<center>
<img src="images/013_Commit.png" width="600">
</center>
</div>
<div id="template-installation" class="section level2" number="15.4">
<h2>
<span class="header-section-number">15.4</span> Template installation<a class="anchor" aria-label="anchor" href="#template-installation"><i class="fas fa-link"></i></a>
</h2>
<p>A template is installed like any Tercen module (operators, apps, templates).
You need to publish the template JSON only, the one at the root.</p>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="advanced-patterns.html"><span class="header-section-number">14</span> Advanced patterns</a></div>
<div class="next"><a href="continuous-integration-workflow-1.html"><span class="header-section-number">16</span> Continuous Integration Workflow</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#building-a-template"><span class="header-section-number">15</span> Building a template</a></li>
<li><a class="nav-link" href="#what-is-a-template"><span class="header-section-number">15.1</span> What is a template?</a></li>
<li><a class="nav-link" href="#general-development-workflow"><span class="header-section-number">15.2</span> General development workflow</a></li>
<li><a class="nav-link" href="#detailed-workflow"><span class="header-section-number">15.3</span> Detailed workflow</a></li>
<li><a class="nav-link" href="#template-installation"><span class="header-section-number">15.4</span> Template installation</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Tercen developer’s guide</strong>" was written by Tercen. </p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
